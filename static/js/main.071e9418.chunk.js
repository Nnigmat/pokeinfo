(this.webpackJsonppokeinfo=this.webpackJsonppokeinfo||[]).push([[0],{23:function(e,t,n){e.exports=n(33)},33:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(19),s=n.n(r),c=n(20),i=n(9),l=n(10),m=n(12),u=n(11),h=n(13),p=n(8),g=n(5),f="https://pokeapi.co/api/v2/",d=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(m.a)(this,Object(u.a)(t).call(this,e))).fetchPokemon=function(e){fetch(f+"pokemon-species/"+e).then((function(e){return e.json()})).then((function(e){var t=e.flavor_text_entries.find((function(e){return e.language.name===n.state.language})),a=e.names.find((function(e){return e.language.name===n.state.language}));n.setState({description:t?t.flavor_text:"Chosen language has no description for this pokemon",name:a?a.name:"Error"})}))},n.state={loading:!1,pokemonId:"",pokemon:{},sprites:{},types:[],description:"",language:e.language},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0,pokemonId:this.props.pokemon.name}),fetch(f+"pokemon/"+this.props.pokemon.name).then((function(e){return e.json()})).then((function(t){e.setState({pokemon:t,sprites:t.sprites,types:t.types,loading:!1})})),this.fetchPokemon(this.props.pokemon.name)}},{key:"componentDidUpdate",value:function(e){e.language!==this.props.language&&(this.setState({language:this.props.language}),this.fetchPokemon(this.state.pokemonId))}},{key:"render",value:function(){var e=this.state.types.map((function(e){return o.a.createElement("span",{key:e.type.name}," ",e.type.name," ")})),t=this.state.sprites.front_default,n=this.state.name;return o.a.createElement("div",{className:"mx-auto"},o.a.createElement("div",{className:"card shadow rounded p-3 mb-5 bg-white",style:{width:"20rem"}},o.a.createElement("img",{src:t,className:"card-img-top",alt:this.state.name}),o.a.createElement("div",{className:"card-body"},o.a.createElement("h3",{className:"card-title text-center",style:{textTransform:"capitalize"}},n),o.a.createElement("p",{className:"card-text"},this.state.description)),o.a.createElement("div",{className:"card-body"},o.a.createElement("ul",{className:"list-group list-group-flush"},o.a.createElement("li",{className:"list-group-item"},"Types: ",o.a.createElement("span",{style:{textTransform:"capitalize"}},e))))))}}]),t}(o.a.Component);function k(e){return o.a.createElement("form",{onSubmit:function(t){t.preventDefault(),t.stopPropagation(),e.handleSubmit(t)},onKeyDown:function(t){"Enter"===t.key&&(t.preventDefault(),e.handleSubmit(t))},className:"form-inline"},o.a.createElement("div",{className:"form-group mr-2"},o.a.createElement("input",{type:"text",name:"newPokemon",className:"form-control",value:e.newPokemon,onChange:e.handleChange,placeholder:"Pokemon name"})),o.a.createElement("button",{type:"submit",className:"form-group btn btn-primary mr-2"},"Search pokemon"))}var v=function(e){return o.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},o.a.createElement(p.b,{to:"/",className:"navbar-brand"},"PokeInfo"),o.a.createElement("ul",{className:"navbar-nav ml-auto"},o.a.createElement("li",{className:"nav-item active"},o.a.createElement(p.b,{to:"/about",className:"nav-link"}," About ")),o.a.createElement("li",null,o.a.createElement("select",{name:"curLanguage",value:e.curLanguage,onChange:e.handleChange,className:"custom-select nav-item"},e.languages.map((function(e){return o.a.createElement("option",{key:e,value:e},e.toUpperCase())}))))))},b=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).handleChange=function(t){var n=t.target,a=n.name,o=n.value;e.setState(Object(c.a)({},a,o))},e.handleSubmit=function(){e.setState({loading:!0,error:!1,pokemons:[]}),e.fetchPokemon(e.state.newPokemon.toLowerCase())},e.handleRandomPokemonSubmit=function(){e.setState({loading:!0,error:!1,pokemons:[]}),fetch(f+"pokemon").then((function(e){return e.json()})).then((function(t){var n=Math.floor(Math.random()*t.count)+1;e.fetchPokemon(n)}))},e.fetchPokemon=function(t){fetch(f+"pokemon-species/"+t).then((function(e){if(!e.ok)throw new Error("Pokemon does not exists");return e.json()})).then((function(t){fetch(t.evolution_chain.url).then((function(e){return e.json()})).then((function(t){for(var n=t.chain,a=[];null!=n;)a.push(n.species),n=n.evolves_to[0];e.setState({pokemons:a,curPokemon:e.state.newPokemon})}))})).catch((function(t){console.log("Was faced error during execution:",t.message),e.setState({error:!0})})).finally((function(){return e.setState({loading:!1})}))},e.state={loading:!1,error:!1,newPokemon:"",curPokemon:"",pokemons:[],curLanguage:"en",languages:["en","ja"]},e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(f+"language").then((function(e){return e.json()})).then((function(t){e.setState({languages:t.results.map((function(e){return e.name}))})}))}},{key:"render",value:function(){var e=this,t=o.a.createElement("div",{className:"d-flex justify-content-center"},o.a.createElement("div",{className:"spinner-border text-primary",role:"status"},o.a.createElement("span",{className:"sr-only"},"Loading..."))),n=o.a.createElement("div",{className:"d-flex justify-content-center"},"Sorry the error accured"),a=this.state.pokemons.map((function(t){return o.a.createElement(d,{key:t.name,pokemon:t,language:e.state.curLanguage})}));return o.a.createElement(p.a,null,o.a.createElement(v,{languages:this.state.languages,curLanugage:this.state.curLanguage,handleChange:this.handleChange}),o.a.createElement(g.a,{path:"/",exact:!0},o.a.createElement("br",null),o.a.createElement("div",{className:"form-inline justify-content-center mx-auto"},o.a.createElement(k,{newPokemon:this.state.newPokemon,handleChange:this.handleChange,handleSubmit:this.handleSubmit}),o.a.createElement("button",{onClick:this.handleRandomPokemonSubmit,className:"form-group mr-2 btn btn-primary"}," Get Random Pokemon")),o.a.createElement("br",null),this.state.loading?t:"",this.state.error?n:"",a?o.a.createElement("div",{className:"card-deck"},a):""),o.a.createElement(g.a,{path:"/about"},"Hi, this is about page"))}}]),t}(a.Component);s.a.render(o.a.createElement(b,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.071e9418.chunk.js.map